"use strict";(globalThis.webpackChunkphysical_ai_textbook=globalThis.webpackChunkphysical_ai_textbook||[]).push([[9742],{1386(e,s,i){i.r(s),i.d(s,{assets:()=>l,contentTitle:()=>a,default:()=>m,frontMatter:()=>o,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"module-1-topics-message-passing","title":"Chapter 3 - Topics and Message Passing","description":"Publisher-Subscriber Pattern","source":"@site/docs/module-1-topics-message-passing.md","sourceDirName":".","slug":"/module-1-topics-message-passing","permalink":"/ur/docs/module-1-topics-message-passing","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/module-1-topics-message-passing.md","tags":[],"version":"current","frontMatter":{"id":"module-1-topics-message-passing","title":"Chapter 3 - Topics and Message Passing","sidebar_label":"Chapter 3 - Topics and Message Passing"},"sidebar":"tutorialSidebar","previous":{"title":"Chapter 2 - Nodes and Lifecycle Management","permalink":"/ur/docs/module-1-nodes-lifecycle"},"next":{"title":"Chapter 1 - Digital Twin Concepts","permalink":"/ur/docs/module-2-digital-twin-concepts"}}');var r=i(4848),t=i(8453);const o={id:"module-1-topics-message-passing",title:"Chapter 3 - Topics and Message Passing",sidebar_label:"Chapter 3 - Topics and Message Passing"},a="Chapter 3: Topics and Message Passing",l={},c=[{value:"Publisher-Subscriber Pattern",id:"publisher-subscriber-pattern",level:2},{value:"Core Concepts",id:"core-concepts",level:3},{value:"Message Types and Definitions",id:"message-types-and-definitions",level:2},{value:"Standard Message Types",id:"standard-message-types",level:3},{value:"Creating Custom Message Types",id:"creating-custom-message-types",level:3},{value:"Message Definition Syntax",id:"message-definition-syntax",level:3},{value:"Quality of Service (QoS) Settings",id:"quality-of-service-qos-settings",level:2},{value:"Reliability Policy",id:"reliability-policy",level:3},{value:"Durability Policy",id:"durability-policy",level:3},{value:"History Policy",id:"history-policy",level:3},{value:"Example QoS Configuration",id:"example-qos-configuration",level:3},{value:"Real-time Communication Patterns",id:"real-time-communication-patterns",level:2},{value:"Synchronous vs Asynchronous Communication",id:"synchronous-vs-asynchronous-communication",level:3},{value:"Time-Critical Applications",id:"time-critical-applications",level:3},{value:"Custom Message Example for Humanoid Robot",id:"custom-message-example-for-humanoid-robot",level:2},{value:"Publisher Example with Custom Message",id:"publisher-example-with-custom-message",level:3},{value:"C++ Publisher Example",id:"c-publisher-example",level:4},{value:"Python Publisher Example",id:"python-publisher-example",level:4},{value:"Subscriber Example with Custom Message",id:"subscriber-example-with-custom-message",level:3},{value:"C++ Subscriber Example",id:"c-subscriber-example",level:4},{value:"Python Subscriber Example",id:"python-subscriber-example",level:4},{value:"Best Practices for Topic Communication",id:"best-practices-for-topic-communication",level:2},{value:"Performance Considerations",id:"performance-considerations",level:3},{value:"Design Patterns",id:"design-patterns",level:3},{value:"Diagram: Topic Communication Flow",id:"diagram-topic-communication-flow",level:2},{value:"Testing Examples",id:"testing-examples",level:2},{value:"Conclusion",id:"conclusion",level:2}];function d(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"chapter-3-topics-and-message-passing",children:"Chapter 3: Topics and Message Passing"})}),"\n",(0,r.jsx)(s.h2,{id:"publisher-subscriber-pattern",children:"Publisher-Subscriber Pattern"}),"\n",(0,r.jsx)(s.p,{children:"The publisher-subscriber pattern is one of the fundamental communication mechanisms in ROS2. It enables asynchronous, one-to-many communication where publishers send messages to topics without knowing which subscribers will receive them. This decoupling allows for flexible system architectures where components can be added or removed without affecting others."}),"\n",(0,r.jsx)(s.h3,{id:"core-concepts",children:"Core Concepts"}),"\n",(0,r.jsx)(s.p,{children:"In the publisher-subscriber model:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Publishers"})," send messages to named topics"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Subscribers"})," receive messages from named topics"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Topics"})," serve as communication channels that connect publishers and subscribers"]}),"\n",(0,r.jsx)(s.li,{children:"Communication is asynchronous and non-blocking"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"This pattern is ideal for streaming data like sensor readings, robot state information, or other continuous data streams where the sender doesn't need to know who receives the data."}),"\n",(0,r.jsx)(s.h2,{id:"message-types-and-definitions",children:"Message Types and Definitions"}),"\n",(0,r.jsx)(s.h3,{id:"standard-message-types",children:"Standard Message Types"}),"\n",(0,r.jsx)(s.p,{children:"ROS2 provides a rich set of standard message types organized in several packages:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"std_msgs"}),": Basic data types like String, Int32, Float64, etc."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"geometry_msgs"}),": Geometric primitives like Point, Pose, Vector3, etc."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"sensor_msgs"}),": Sensor-specific messages like LaserScan, Image, JointState, etc."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"nav_msgs"}),": Navigation-related messages like Odometry, Path, etc."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"action_msgs"}),": Action-specific messages for goal and feedback"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"creating-custom-message-types",children:"Creating Custom Message Types"}),"\n",(0,r.jsxs)(s.p,{children:["Custom message types allow you to define application-specific data structures. Messages are defined using the ",(0,r.jsx)(s.code,{children:".msg"})," file format with a simple syntax:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"# CustomHumanoidState.msg\r\nstring robot_name\r\nfloat64[20] joint_positions\r\nfloat64[20] joint_velocities\r\ngeometry_msgs/Pose current_pose\r\nsensor_msgs/BatteryState battery_status\n"})}),"\n",(0,r.jsx)(s.p,{children:"To create a custom message:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["Create a ",(0,r.jsx)(s.code,{children:"msg"})," directory in your package"]}),"\n",(0,r.jsxs)(s.li,{children:["Define your message in a ",(0,r.jsx)(s.code,{children:".msg"})," file"]}),"\n",(0,r.jsxs)(s.li,{children:["Update your ",(0,r.jsx)(s.code,{children:"CMakeLists.txt"})," and ",(0,r.jsx)(s.code,{children:"package.xml"})," to include the message"]}),"\n",(0,r.jsx)(s.li,{children:"Build your package to generate the message headers/classes"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"message-definition-syntax",children:"Message Definition Syntax"}),"\n",(0,r.jsx)(s.p,{children:"Message definitions follow these rules:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Each line defines a field with type and name"}),"\n",(0,r.jsx)(s.li,{children:"Built-in types: bool, byte, char, float32, float64, int8, uint8, int16, uint16, int32, uint32, int64, uint64, string, wstring"}),"\n",(0,r.jsxs)(s.li,{children:["Arrays are defined with fixed size ",(0,r.jsx)(s.code,{children:"[n]"})," or unbounded ",(0,r.jsx)(s.code,{children:"[]"})]}),"\n",(0,r.jsxs)(s.li,{children:["Constants can be defined at the top with ",(0,r.jsx)(s.code,{children:"TYPE CONSTANT_NAME=VALUE"})]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"quality-of-service-qos-settings",children:"Quality of Service (QoS) Settings"}),"\n",(0,r.jsx)(s.p,{children:"QoS settings allow fine-tuning of communication behavior to match application requirements. ROS2 provides several QoS policies:"}),"\n",(0,r.jsx)(s.h3,{id:"reliability-policy",children:"Reliability Policy"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"RELIABLE"}),": Ensures all messages are delivered (uses acknowledgments)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"BEST_EFFORT"}),": Attempts delivery without guarantees (faster but may lose messages)"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"durability-policy",children:"Durability Policy"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"TRANSIENT_LOCAL"}),": Publisher keeps historical data for late-joining subscribers"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"VOLATILE"}),": No historical data is maintained"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"history-policy",children:"History Policy"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"KEEP_LAST"}),": Maintain a fixed number of most recent messages"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"KEEP_ALL"}),": Maintain all messages (limited by available memory)"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"example-qos-configuration",children:"Example QoS Configuration"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-cpp",children:'// C++ example with custom QoS\r\nrclcpp::QoS qos_profile(10);  // history depth of 10\r\nqos_profile.reliability(RMW_QOS_POLICY_RELIABILITY_RELIABLE);\r\nqos_profile.durability(RMW_QOS_POLICY_DURABILITY_TRANSIENT_LOCAL);\r\n\r\nauto publisher = this->create_publisher<std_msgs::msg::String>(\r\n    "topic_name", qos_profile);\n'})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"# Python example with custom QoS\r\nfrom rclpy.qos import QoSProfile, ReliabilityPolicy, DurabilityPolicy\r\n\r\nqos_profile = QoSProfile(\r\n    depth=10,\r\n    reliability=ReliabilityPolicy.RELIABLE,\r\n    durability=DurabilityPolicy.TRANSIENT_LOCAL\r\n)\r\n\r\npublisher = self.create_publisher(String, 'topic_name', qos_profile)\n"})}),"\n",(0,r.jsx)(s.h2,{id:"real-time-communication-patterns",children:"Real-time Communication Patterns"}),"\n",(0,r.jsx)(s.h3,{id:"synchronous-vs-asynchronous-communication",children:"Synchronous vs Asynchronous Communication"}),"\n",(0,r.jsx)(s.p,{children:"Topics provide asynchronous communication by default, which is beneficial for real-time systems as it prevents blocking operations. However, you can implement synchronization patterns when needed:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-cpp",children:'// Example of synchronized message handling\r\n#include <message_filters/subscriber.h>\r\n#include <message_filters/time_synchronizer.h>\r\n\r\n// Synchronize messages from multiple sensors\r\nmessage_filters::Subscriber<sensor_msgs::msg::LaserScan> laser_sub(this, "laser_scan");\r\nmessage_filters::Subscriber<sensor_msgs::msg::PointCloud2> pointcloud_sub(this, "pointcloud");\r\n\r\ntypedef message_filters::TimeSynchronizer<sensor_msgs::msg::LaserScan, sensor_msgs::msg::PointCloud2> Sync;\r\nauto sync = std::make_shared<Sync>(laser_sub, pointcloud_sub, 10);\r\nsync->registerCallback(&MyNode::syncCallback, this);\n'})}),"\n",(0,r.jsx)(s.h3,{id:"time-critical-applications",children:"Time-Critical Applications"}),"\n",(0,r.jsx)(s.p,{children:"For time-critical applications, consider these patterns:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Use appropriate QoS settings for your timing requirements"}),"\n",(0,r.jsx)(s.li,{children:"Implement message timestamps for temporal analysis"}),"\n",(0,r.jsx)(s.li,{children:"Use keep-all history policy for critical data"}),"\n",(0,r.jsx)(s.li,{children:"Consider using reliable reliability policy for critical messages"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"custom-message-example-for-humanoid-robot",children:"Custom Message Example for Humanoid Robot"}),"\n",(0,r.jsx)(s.p,{children:"Let's create a custom message for humanoid robot state:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"# HumanoidState.msg\r\nstring robot_name\r\n# Joint information\r\nfloat64[] joint_positions\r\nfloat64[] joint_velocities\r\nfloat64[] joint_efforts\r\nstring[] joint_names\r\n# Balance information\r\ngeometry_msgs/Vector3 center_of_mass\r\ngeometry_msgs/Vector3 zero_moment_point\r\nbool is_balanced\r\n# Task information\r\nstring current_task\r\nfloat64 task_progress\n"})}),"\n",(0,r.jsx)(s.h3,{id:"publisher-example-with-custom-message",children:"Publisher Example with Custom Message"}),"\n",(0,r.jsx)(s.h4,{id:"c-publisher-example",children:"C++ Publisher Example"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-cpp",children:'// C++ publisher with custom message and QoS\r\n#include "my_robot_msgs/msg/humanoid_state.hpp"\r\n\r\nclass HumanoidStatePublisher : public rclcpp::Node\r\n{\r\npublic:\r\n    HumanoidStatePublisher()\r\n    : Node("humanoid_state_publisher")\r\n    {\r\n        // Create publisher with specific QoS for real-time performance\r\n        rclcpp::QoS qos_profile(5);\r\n        qos_profile.reliability(RMW_QOS_POLICY_RELIABILITY_BEST_EFFORT);\r\n        qos_profile.durability(RMW_QOS_POLICY_DURABILITY_VOLATILE);\r\n        qos_profile.history(RMW_QOS_POLICY_HISTORY_KEEP_LAST);\r\n\r\n        publisher_ = this->create_publisher<my_robot_msgs::msg::HumanoidState>(\r\n            "humanoid_state", qos_profile);\r\n\r\n        timer_ = this->create_wall_timer(\r\n            std::chrono::milliseconds(100),  // 10 Hz update rate\r\n            std::bind(&HumanoidStatePublisher::publish_state, this));\r\n    }\r\n\r\nprivate:\r\n    void publish_state()\r\n    {\r\n        auto msg = my_robot_msgs::msg::HumanoidState();\r\n        msg.robot_name = "my_humanoid_robot";\r\n        msg.joint_names = {"hip_left", "knee_left", "ankle_left", /* ... */};\r\n        msg.joint_positions = {0.1, 0.2, 0.3, /* ... */};\r\n        msg.joint_velocities = {0.0, 0.0, 0.0, /* ... */};\r\n        msg.joint_efforts = {0.0, 0.0, 0.0, /* ... */};\r\n        msg.is_balanced = true;\r\n        msg.current_task = "walking";\r\n        msg.task_progress = 0.5;\r\n\r\n        publisher_->publish(msg);\r\n    }\r\n\r\n    rclcpp::Publisher<my_robot_msgs::msg::HumanoidState>::SharedPtr publisher_;\r\n    rclcpp::TimerBase::SharedPtr timer_;\r\n};\n'})}),"\n",(0,r.jsx)(s.h4,{id:"python-publisher-example",children:"Python Publisher Example"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom rclpy.qos import QoSProfile, ReliabilityPolicy, DurabilityPolicy\r\nfrom my_robot_msgs.msg import HumanoidState  # Assuming custom message is generated\r\n\r\n\r\nclass HumanoidStatePublisher(Node):\r\n\r\n    def __init__(self):\r\n        super().__init__('humanoid_state_publisher')\r\n\r\n        # Create QoS profile for real-time performance\r\n        qos_profile = QoSProfile(\r\n            depth=5,\r\n            reliability=ReliabilityPolicy.BEST_EFFORT,\r\n            durability=DurabilityPolicy.VOLATILE\r\n        )\r\n\r\n        self.publisher = self.create_publisher(\r\n            HumanoidState,\r\n            'humanoid_state',\r\n            qos_profile\r\n        )\r\n\r\n        # Create timer for 10 Hz update rate\r\n        timer_period = 0.1  # seconds\r\n        self.timer = self.create_timer(timer_period, self.publish_state)\r\n\r\n        self.get_logger().info('Humanoid State Publisher initialized')\r\n\r\n    def publish_state(self):\r\n        msg = HumanoidState()\r\n        msg.robot_name = 'my_humanoid_robot'\r\n        msg.joint_names = ['hip_left', 'knee_left', 'ankle_left']  # Simplified for example\r\n        msg.joint_positions = [0.1, 0.2, 0.3]\r\n        msg.joint_velocities = [0.0, 0.0, 0.0]\r\n        msg.joint_efforts = [0.0, 0.0, 0.0]\r\n        msg.is_balanced = True\r\n        msg.current_task = 'walking'\r\n        msg.task_progress = 0.5\r\n\r\n        self.publisher.publish(msg)\r\n        self.get_logger().info(f'Published state for robot: {msg.robot_name}')\r\n\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    publisher = HumanoidStatePublisher()\r\n\r\n    try:\r\n        rclpy.spin(publisher)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        publisher.destroy_node()\r\n        rclpy.shutdown()\r\n\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,r.jsx)(s.h3,{id:"subscriber-example-with-custom-message",children:"Subscriber Example with Custom Message"}),"\n",(0,r.jsx)(s.h4,{id:"c-subscriber-example",children:"C++ Subscriber Example"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-cpp",children:'// C++ subscriber with custom message\r\nclass HumanoidStateSubscriber : public rclcpp::Node\r\n{\r\npublic:\r\n    HumanoidStateSubscriber()\r\n    : Node("humanoid_state_subscriber")\r\n    {\r\n        // Use matching QoS profile\r\n        rclcpp::QoS qos_profile(5);\r\n        qos_profile.reliability(RMW_QOS_POLICY_RELIABILITY_BEST_EFFORT);\r\n        qos_profile.durability(RMW_QOS_POLICY_DURABILITY_VOLATILE);\r\n        qos_profile.history(RMW_QOS_POLICY_HISTORY_KEEP_LAST);\r\n\r\n        subscription_ = this->create_subscription<my_robot_msgs::msg::HumanoidState>(\r\n            "humanoid_state", qos_profile,\r\n            std::bind(&HumanoidStateSubscriber::state_callback, this, std::placeholders::_1));\r\n    }\r\n\r\nprivate:\r\n    void state_callback(const my_robot_msgs::msg::HumanoidState::SharedPtr msg) const\r\n    {\r\n        RCLCPP_INFO(this->get_logger(),\r\n            "Received state for robot: %s, task: %s, progress: %.2f",\r\n            msg->robot_name.c_str(),\r\n            msg->current_task.c_str(),\r\n            msg->task_progress);\r\n    }\r\n\r\n    rclcpp::Subscription<my_robot_msgs::msg::HumanoidState>::SharedPtr subscription_;\r\n};\n'})}),"\n",(0,r.jsx)(s.h4,{id:"python-subscriber-example",children:"Python Subscriber Example"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom rclpy.qos import QoSProfile, ReliabilityPolicy, DurabilityPolicy\r\nfrom my_robot_msgs.msg import HumanoidState  # Assuming custom message is generated\r\n\r\n\r\nclass HumanoidStateSubscriber(Node):\r\n\r\n    def __init__(self):\r\n        super().__init__('humanoid_state_subscriber')\r\n\r\n        # Create matching QoS profile\r\n        qos_profile = QoSProfile(\r\n            depth=5,\r\n            reliability=ReliabilityPolicy.BEST_EFFORT,\r\n            durability=DurabilityPolicy.VOLATILE\r\n        )\r\n\r\n        self.subscription = self.create_subscription(\r\n            HumanoidState,\r\n            'humanoid_state',\r\n            self.state_callback,\r\n            qos_profile\r\n        )\r\n\r\n        self.subscription  # prevent unused variable warning\r\n        self.get_logger().info('Humanoid State Subscriber initialized')\r\n\r\n    def state_callback(self, msg):\r\n        self.get_logger().info(\r\n            f'Received state for robot: {msg.robot_name}, '\r\n            f'task: {msg.current_task}, progress: {msg.task_progress:.2f}'\r\n        )\r\n\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    subscriber = HumanoidStateSubscriber()\r\n\r\n    try:\r\n        rclpy.spin(subscriber)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        subscriber.destroy_node()\r\n        rclpy.shutdown()\r\n\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,r.jsx)(s.h2,{id:"best-practices-for-topic-communication",children:"Best Practices for Topic Communication"}),"\n",(0,r.jsx)(s.h3,{id:"performance-considerations",children:"Performance Considerations"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Use appropriate message sizes to avoid network congestion"}),"\n",(0,r.jsx)(s.li,{children:"Select QoS policies based on your application's requirements"}),"\n",(0,r.jsx)(s.li,{children:"Consider message compression for large data like images"}),"\n",(0,r.jsx)(s.li,{children:"Use appropriate update rates for your application"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"design-patterns",children:"Design Patterns"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Separate high-frequency and low-frequency topics"}),"\n",(0,r.jsx)(s.li,{children:"Use dedicated topics for time-critical data"}),"\n",(0,r.jsx)(s.li,{children:"Implement data validation in subscribers"}),"\n",(0,r.jsx)(s.li,{children:"Consider using latching for static data"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"diagram-topic-communication-flow",children:"Diagram: Topic Communication Flow"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"                    ROS2 Communication System\r\n                    +-------------------------+\r\n                    |        DDS Layer        |\r\n                    +-------------------------+\r\n                             |    |\r\n                    Publisher|    |Subscriber\r\n                    +--------+    +--------+\r\n                    |  Node A         Node B |\r\n                    |                       |\r\n                    |  +--------------+     |\r\n                    |  |  Publisher   |     |\r\n                    |  |              |     |\r\n                    |  |  Topic:      |     |\r\n                    |  |  /joint_states|     |\r\n                    |  +--------------+     |\r\n                    |                       |\r\n                    |  +--------------+     |\r\n                    |  |  Subscriber  |<----+----+\r\n                    |  |              |     |    |\r\n                    |  |  Topic:      |     |    |\r\n                    |  |  /joint_states|     |    |\r\n                    |  +--------------+     |    |\r\n                    +-----------------------+    |\r\n                                                 |\r\n                    +-----------------------+    |\r\n                    |  Node C               |    |\r\n                    |                       |    |\r\n                    |  +--------------+     |    |\r\n                    |  |  Publisher   |-----+----+\r\n                    |  |              |\r\n                    |  |  Topic:      |\r\n                    |  |  /joint_states|\r\n                    |  +--------------+\r\n                    +-----------------------+\n"})}),"\n",(0,r.jsx)(s.h2,{id:"testing-examples",children:"Testing Examples"}),"\n",(0,r.jsx)(s.p,{children:"All the code examples provided in this chapter have been designed to work with the ROS2 Humble Hawksbill distribution. To test these examples:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["Create a new ROS2 package: ",(0,r.jsx)(s.code,{children:"ros2 pkg create --build-type ament_cmake my_robot_msgs"})]}),"\n",(0,r.jsxs)(s.li,{children:["Add your custom message definition to the ",(0,r.jsx)(s.code,{children:"msg"})," directory"]}),"\n",(0,r.jsxs)(s.li,{children:["Update your ",(0,r.jsx)(s.code,{children:"CMakeLists.txt"})," and ",(0,r.jsx)(s.code,{children:"package.xml"})," to include message generation"]}),"\n",(0,r.jsxs)(s.li,{children:["Build your workspace: ",(0,r.jsx)(s.code,{children:"colcon build --packages-select my_robot_msgs"})]}),"\n",(0,r.jsxs)(s.li,{children:["Source your workspace: ",(0,r.jsx)(s.code,{children:"source install/setup.bash"})]}),"\n",(0,r.jsx)(s.li,{children:"Run your publisher and subscriber nodes to verify communication"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,r.jsx)(s.p,{children:"Topics provide the backbone of ROS2 communication, enabling flexible, decoupled system architectures. Understanding QoS settings is crucial for achieving the right balance between reliability, performance, and resource usage. Custom messages allow you to tailor communication to your specific application needs, while proper design patterns ensure efficient and robust communication in your robotic systems."}),"\n",(0,r.jsx)(s.p,{children:"The publisher-subscriber pattern is particularly well-suited for humanoid robotics applications where sensor data, joint states, and other continuous information need to be shared among multiple components without tight coupling."})]})}function m(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453(e,s,i){i.d(s,{R:()=>o,x:()=>a});var n=i(6540);const r={},t=n.createContext(r);function o(e){const s=n.useContext(t);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(t.Provider,{value:s},e.children)}}}]);